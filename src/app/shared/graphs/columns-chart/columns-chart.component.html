<div class="bg-background flex-col rounded-lg px-8 py-10 sm:flex-row w-full">

  <div class="mb-2 flex items-center justify-between">
    <div class="flex-col">
      <div class="flex items-center space-x-1">
        <span class="text-muted-foreground text-lg font-semibold">$</span>
        <span class="text-foreground text-4xl font-semibold">{{totalValue() | number:'1.2-2'}}</span>

        @if(saveBtnState().isSaveActive){
        <app-save-delete-button [class.disabled]="!saveBtnState().isSaveActive" (buttonClick)="saveHandler()"
          [disabled]="!saveBtnState().isSaveActive">
          <div class="flex items-center rounded-md bg-green-500/25 p-2 text-xs font-semibold text-green-500">
            <svg-icon src="assets/icons/heroicons/outline/plus.svg" [svgClass]="'h-4 w-4'"></svg-icon>
            Save
            @if(saveBtnState().count > 0 && saveBtnState().isSaveActive){
            <span class="text-xs font-semibold pl-1">S{{saveBtnState().count}}</span>
            }
          </div>
        </app-save-delete-button>
        }
        
        @if(saveBtnState().deleteIndex! > 0 && saveBtnState().isDeleteActive){
        <app-save-delete-button (click)="deleteSelected()">
          <div
            class="flex items-center rounded-md bg-red-500/25 py-2 pb-2 pr-2 pl-2 text-xs font-semibold text-red-500">
            <svg-icon class="text-red-500 text-xs hover:text-primary" src="assets/icons/heroicons/outline/x-small.svg"
              [svgClass]="'h-4 w-4'"></svg-icon>
            Delete
            @if(saveBtnState().deleteIndex! > 0 && saveBtnState().isDeleteActive){
            <span class="text-xs font-semibold pl-0.5">S{{saveBtnState().deleteIndex}}</span>
            }
          </div>
        </app-save-delete-button>
        }

      </div>

      <span class="text-muted-foreground text-sm flex items-center">
        @if(graphData().order==='desc'){
        <svg-icon class="text-green-500" src="assets/icons/heroicons/outline/arrow-sm-up.svg"
          [svgClass]="'h-4 w-4'"></svg-icon>
        }@else{
        <svg-icon class="text-red-500" src="assets/icons/heroicons/outline/arrow-sm-down.svg"
          [svgClass]="'h-4 w-4'"></svg-icon>
        }
        Products
        {{(graphData().prop === 'discountPercentage') ? 'Discount' : graphData().prop | titlecase}}</span>
    </div>
    <div
      class="rounded-xs bg-card text-muted-foreground hover:bg-muted hover:text-foreground cursor-pointer px-1 py-1 text-center text-xs">
      <!-- <svg-icon src="ass" [svgClass]="'h-3 w-3'"></svg-icon> -->
    </div>
  </div>
  <!-- end Card Header -->

  <app-saved-filter-btns (onFilterClick)="onFilterSelected($event)"
    [savedFilterState]="savedFilterState()"></app-saved-filter-btns>

  <apx-chart class="cursor-pointer" #chart [series]="chartOptions.series!" [chart]="chartOptions.chart!"
    [xaxis]="chartOptions.xaxis!" [dataLabels]="chartOptions.dataLabels!" [plotOptions]="chartOptions.plotOptions!"
    [title]="chartOptions.title!" [legend]="chartOptions.legend!" [fill]="chartOptions.fill!"
    [stroke]="chartOptions.stroke!" [yaxis]="chartOptions.yaxis!" [states]="chartOptions.states!"
    [tooltip]="chartOptions.tooltip!" [colors]="chartOptions.colors!" [grid]="chartOptions.grid!">
  </apx-chart>


  <app-mini-table [additionalData]="additionalData()"></app-mini-table>

  <!-- <div class="mt-6 flex items-center justify-between"> -->
  <!-- <app-save-delete-button>
      <div class="flex items-center rounded-md bg-red-500/25 py-2 pb-2 pr-2 pl-2 text-xs font-semibold text-red-500">
        <svg-icon class="text-red-500 text-xs hover:text-primary" 
        src="assets/icons/heroicons/outline/x-small.svg" [svgClass]="'h-4 w-4'"></svg-icon>
        Delete 
        <span class="text-xs font-semibold pl-0.5">S1</span>
      </div>
    </app-save-delete-button> -->
  <!-- <app-button>
      <div class="flex items-center rounded-md bg-red-500/25 py-2 pb-2 pr-2 pl-2 text-xs font-semibold text-red-500">
        <svg-icon class="text-red-500 text-xs hover:text-primary" 
        src="assets/icons/heroicons/outline/x-small.svg" [svgClass]="'h-4 w-4'"></svg-icon>
        Delete 
        <span class="text-xs font-semibold pl-0.5">S1</span>
      </div>
    </app-button> -->


  <!-- <app-save-delete-button>
      <div class="flex items-center rounded-md bg-green-500/25 p-2 text-xs font-semibold text-green-500">
        <svg-icon src="assets/icons/heroicons/outline/plus.svg" [svgClass]="'h-4 w-4'"></svg-icon>
        Save
        <span class="text-xs font-semibold pl-0.5">S1</span>
      </div>
    </app-save-delete-button> -->

  <!-- <button class="hover:bg-primary-600 flex-none rounded-md bg-green-500 px-4 py-2.5 text-xs 
    font-semibold text-primary-foreground"> Save </button>
    <button class="hover:bg-primary-600 flex-none rounded-md bg-primary px-4 py-2.5 text-xs 
    font-semibold text-primary-foreground"> Delete </button> -->
  <!-- </div> -->



</div>